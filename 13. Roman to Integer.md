# 13. Roman to Integer

## ç¾…é¦¬æ•¸å­—å°ç…§è¡¨

| Symbol | Value |
| ------ | ----- |
| I | 1 |
| V | 5 |
| X | 10 |
| L | 50 |
| C | 100 |
| D | 500 |
| M | 1000 |

## ç¯„ä¾‹

| Example | Value |
| ------- | ----- |
| I | 1 |
| II | 2 |
| III | 3 |
| ğŸ”¥IV | 4 |
| V | 5 |
| VI | 6 |
| VII | 7 |
| VIII | 8 |
| ğŸ”¥IX | 9 |
| X | 10 |
| XI | 11 |
| XII | 12 |

## ç‰¹ä¾‹
* IV ç‚º 4ï¼ˆè€Œéå¯«æˆIIIIï¼‰
* IX ç‚º 9ï¼ˆè€Œéå¯«æˆVIIIIï¼‰

## ab pattern

* ç•¶`a<b`æ™‚ï¼ˆç‰¹ä¾‹ï¼‰ï¼Œè¨ˆç®—ç‚º`b-a`
* ç•¶`a=b`æ˜¯`a>b`ï¼Œè¨ˆç®—ç‚º`a+b`


### è§£é¡Œæ€ç¶­

1. ç„¡è…¦å°‡æ‰€æœ‰ç¬¦è™Ÿç›¸åŠ 
2. æƒææ˜¯å¦å‡ºç¾ab patternï¼Œè‹¥æœ‰ï¼Œæ¸›å»2a

### ç¯„ä¾‹ï¼š`IV`

1. ç„¡è…¦ç›¸åŠ æ‰€æœ‰ç¬¦è™Ÿï¼Œ1+5=6
2. æƒæå‡ºç¾ab patternï¼Œå°‡çµæœæ¸›å»2aï¼Œ6-2=4ï¼Œç­”æ¡ˆç‚º4


### è¤‡é›œåº¦

* æ™‚é–“è¤‡é›œåº¦ $O(n)$
* ç©ºé–“è¤‡é›œåº¦ $O(1)$

### ç¨‹å¼ç¢¼ç¯„ä¾‹

```cpp
class Solution {
public:
    
    int romanToInt(string s) {
        // å„²å­˜å°ç…§è¡¨
        map<char, int> dict {
            {'I', 1},
            {'V', 5},
            {'X', 10},
            {'L', 50},
            {'C', 100},
            {'D', 500},
            {'M', 1000},
        };
        
        // å­—ä¸²é•·åº¦
        int n = s.length();
        
        // è¨ˆç®—æ•¸å­—èµ·é»
        int sum = 0;
        
        // ç‚ºæŸ¥è©¢ab patternï¼Œç´€éŒ„å‰ä¸€å€‹æ•¸å­—
        int previousValue = 0;
        
        // å»ºç«‹è¼ªè¿´
        for(int i = 0; i < n; i++) {
            // å°ç…§åˆ°çš„æ•¸å­—
            int value = dict[s[i]];
            
            // å°‡ç¸½å’ŒåŠ ä¸Šæ•¸å­—
            sum += value;
            
            // è‹¥å‰æ¬¡æ•¸å­—æ¯”ç›®å‰æ•¸å­—å°ï¼ˆå³ab patternï¼‰
            if(previousValue < value) {
                // ç¸½å’Œæ¸›å»2å€çš„å‰æ¬¡æ•¸å­—
                sum -= previousValue * 2;
            }
            
            // ç´€éŒ„ç›®å‰æ•¸å­—ï¼Œä¾›ä¸‹æ¬¡è¼ªè¿´ä½¿ç”¨ï¼ˆå‰æ¬¡æ•¸å­—ï¼‰
            previousValue = value;
        }
        
        return sum;
    }
};
```